"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/weather/route";
exports.ids = ["app/api/weather/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fweather%2Froute&page=%2Fapi%2Fweather%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fweather%2Froute.ts&appDir=C%3A%5CUsers%5Caparn%5COneDrive%5CDesktop%5Cphani%5Cv-1%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Caparn%5COneDrive%5CDesktop%5Cphani%5Cv-1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fweather%2Froute&page=%2Fapi%2Fweather%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fweather%2Froute.ts&appDir=C%3A%5CUsers%5Caparn%5COneDrive%5CDesktop%5Cphani%5Cv-1%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Caparn%5COneDrive%5CDesktop%5Cphani%5Cv-1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_aparn_OneDrive_Desktop_phani_v_1_app_api_weather_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/weather/route.ts */ \"(rsc)/./app/api/weather/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/weather/route\",\n        pathname: \"/api/weather\",\n        filename: \"route\",\n        bundlePath: \"app/api/weather/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\aparn\\\\OneDrive\\\\Desktop\\\\phani\\\\v-1\\\\app\\\\api\\\\weather\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_aparn_OneDrive_Desktop_phani_v_1_app_api_weather_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/weather/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ3ZWF0aGVyJTJGcm91dGUmcGFnZT0lMkZhcGklMkZ3ZWF0aGVyJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGd2VhdGhlciUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNhcGFybiU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q3BoYW5pJTVDdi0xJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNhcGFybiU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q3BoYW5pJTVDdi0xJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzRCO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va3Jpc2hpbWl0cmEvPzlmYTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcYXBhcm5cXFxcT25lRHJpdmVcXFxcRGVza3RvcFxcXFxwaGFuaVxcXFx2LTFcXFxcYXBwXFxcXGFwaVxcXFx3ZWF0aGVyXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS93ZWF0aGVyL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvd2VhdGhlclwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvd2VhdGhlci9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXGFwYXJuXFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxccGhhbmlcXFxcdi0xXFxcXGFwcFxcXFxhcGlcXFxcd2VhdGhlclxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS93ZWF0aGVyL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fweather%2Froute&page=%2Fapi%2Fweather%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fweather%2Froute.ts&appDir=C%3A%5CUsers%5Caparn%5COneDrive%5CDesktop%5Cphani%5Cv-1%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Caparn%5COneDrive%5CDesktop%5Cphani%5Cv-1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/weather/route.ts":
/*!**********************************!*\
  !*** ./app/api/weather/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n\n// --- NEW Helper Functions ---\n// Determine Irrigation Status (Revised Logic)\nfunction getIrrigationStatus(temp, humidity, windSpeed, precipitation) {\n    // Priority 1: Recent Rain\n    if (precipitation > 1) {\n        return {\n            status: \"Recent significant rain. Irrigation likely unnecessary.\",\n            level: \"success\"\n        };\n    }\n    if (precipitation > 0.1) {\n        return {\n            status: \"Light recent rain detected. Check soil moisture before irrigating.\",\n            level: \"success\"\n        };\n    }\n    // Priority 2: High Evaporation Conditions (No recent rain)\n    const isHot = temp > 32;\n    const isDry = humidity < 45;\n    const isWindy = windSpeed > 5; // Wind speed in m/s\n    if (isHot && isDry && isWindy) {\n        return {\n            status: \"Hot, dry, and windy. High evaporation likely. Monitor soil urgently.\",\n            level: \"warning\"\n        };\n    }\n    if (isHot && isDry) {\n        return {\n            status: \"Hot and dry conditions. Increased evaporation likely. Check soil moisture.\",\n            level: \"warning\"\n        };\n    }\n    if (isHot) {\n        return {\n            status: \"High temperatures detected. Monitor soil moisture closely.\",\n            level: \"warning\"\n        };\n    }\n    if (isDry && isWindy) {\n        return {\n            status: \"Dry and windy. Increased evaporation likely. Check soil moisture.\",\n            level: \"warning\"\n        };\n    }\n    // Priority 3: Low Evaporation / Other factors\n    if (temp < 10) {\n        return {\n            status: \"Cool conditions reduce immediate need. Check soil before irrigating.\",\n            level: \"info\"\n        };\n    }\n    if (humidity > 80) {\n        return {\n            status: \"High humidity reduces evaporation. Check soil moisture if needed.\",\n            level: \"info\"\n        };\n    }\n    // Default: Moderate conditions\n    return {\n        status: \"Conditions moderate. Monitor soil moisture and irrigate as needed.\",\n        level: \"info\"\n    };\n}\n// Generate Crop Growth Advice\nfunction getCropAdvice(temp, humidity, windSpeed, suitableCrops) {\n    const advice = [];\n    if (suitableCrops.length === 0 || suitableCrops[0].includes(\"Not suitable\")) {\n        return [\n            \"Current conditions are not ideal for the primary listed crops.\"\n        ];\n    }\n    const cropsStr = suitableCrops.join(\", \");\n    if (temp > 35) {\n        advice.push(`Extreme Heat: High stress likely for ${cropsStr}. Ensure adequate water, consider shade.`);\n    } else if (temp > 30) {\n        advice.push(`High Temperature: Increase watering frequency for ${cropsStr} if soil is dry.`);\n    }\n    if (humidity > 85) {\n        advice.push(`High Humidity: Increases fungal risk for ${cropsStr}. Ensure good air circulation.`);\n    }\n    if (windSpeed > 12) {\n        advice.push(`Strong Winds: Potential for physical damage or affecting spraying operations for ${cropsStr}.`);\n    }\n    if (temp < 10) {\n        advice.push(`Low Temperatures: Growth may slow for ${cropsStr}. Protect sensitive plants if frost is forecast.`);\n    }\n    if (advice.length === 0) {\n        advice.push(`Current conditions seem generally favorable for ${cropsStr}. Monitor forecasts.`);\n    }\n    return advice.slice(0, 3); // Limit to 3 main advice points\n}\n// --- End NEW Helper Functions ---\n// --- City to State/Crop Mapping (Illustrative) ---\nconst cityStateCropMap = {\n    hyderabad: {\n        state: \"Telangana\",\n        crops: [\n            \"Rice (Paddy)\",\n            \"Cotton\",\n            \"Maize\",\n            \"Sorghum\",\n            \"Groundnut\"\n        ]\n    },\n    mumbai: {\n        state: \"Maharashtra\",\n        crops: [\n            \"Rice (Coastal)\",\n            \"Sorghum\",\n            \"Bajra\",\n            \"Sugarcane\",\n            \"Cotton\"\n        ]\n    },\n    chennai: {\n        state: \"Tamil Nadu\",\n        crops: [\n            \"Rice\",\n            \"Groundnut\",\n            \"Sugarcane\",\n            \"Cotton\",\n            \"Coconut\"\n        ]\n    },\n    kolkata: {\n        state: \"West Bengal\",\n        crops: [\n            \"Rice\",\n            \"Jute\",\n            \"Potatoes\",\n            \"Mustard\",\n            \"Vegetables\"\n        ]\n    },\n    delhi: {\n        state: \"Delhi NCR\",\n        crops: [\n            \"Wheat\",\n            \"Mustard\",\n            \"Vegetables\",\n            \"Bajra\"\n        ]\n    },\n    lucknow: {\n        state: \"Uttar Pradesh\",\n        crops: [\n            \"Wheat\",\n            \"Sugarcane\",\n            \"Rice\",\n            \"Potatoes\",\n            \"Mustard\"\n        ]\n    },\n    jaipur: {\n        state: \"Rajasthan\",\n        crops: [\n            \"Bajra\",\n            \"Mustard\",\n            \"Wheat\",\n            \"Pulses\",\n            \"Groundnut\"\n        ]\n    },\n    shimla: {\n        state: \"Himachal Pradesh\",\n        crops: [\n            \"Apples\",\n            \"Potatoes\",\n            \"Maize\",\n            \"Wheat\",\n            \"Barley\"\n        ]\n    },\n    bhopal: {\n        state: \"Madhya Pradesh\",\n        crops: [\n            \"Soybean\",\n            \"Wheat\",\n            \"Pulses\",\n            \"Maize\",\n            \"Cotton\"\n        ]\n    }\n};\n// --- Updated Helper function for Suitable Crops ---\nfunction getSuitableCrops(city, temp) {\n    const lowerCity = city.toLowerCase();\n    // 1. Check the static map first\n    if (cityStateCropMap[lowerCity]) {\n        // Optional: Could add temperature check here too for mapped cities\n        // e.g., if (temp < 5) return [\"Conditions too cold for typical crops in \" + cityStateCropMap[lowerCity].state];\n        return cityStateCropMap[lowerCity].crops;\n    }\n    // 2. Fallback to temperature-based logic (Slightly refined)\n    if (temp < 5) return [\n        \"Conditions too cold for most common crops\"\n    ];\n    if (temp < 15) return [\n        \"Wheat\",\n        \"Barley\",\n        \"Mustard\",\n        \"Potatoes\",\n        \"Carrots\"\n    ]; // Cooler crops\n    if (temp < 25) return [\n        \"Maize\",\n        \"Rice (Paddy)\",\n        \"Soybean\",\n        \"Tomatoes\",\n        \"Beans\"\n    ]; // Moderate temp crops\n    if (temp < 35) return [\n        \"Cotton\",\n        \"Sorghum\",\n        \"Groundnut\",\n        \"Millet\",\n        \"Sugarcane\"\n    ]; // Warmer crops\n    return [\n        \"Heat tolerant varieties (e.g., certain Millets, Dates)\"\n    ]; // Very hot\n}\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const city = searchParams.get(\"city\"); // Get city name\n        if (!city) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"City name is required\"\n            }, {\n                status: 400\n            });\n        }\n        const OPENWEATHER_API_KEY = process.env.OPENWEATHER_API_KEY;\n        if (!OPENWEATHER_API_KEY) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Weather API key not configured\"\n            }, {\n                status: 500\n            });\n        }\n        // Fetch current weather by city name\n        const weatherResponse = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(city)}&appid=${OPENWEATHER_API_KEY}&units=metric`);\n        if (!weatherResponse.ok) {\n            const errorData = await weatherResponse.json();\n            console.error(\"OpenWeatherMap API Error:\", errorData);\n            const errorMessage = errorData.message === \"city not found\" ? `City not found: ${city}` : \"Failed to fetch weather data\";\n            throw new Error(errorMessage);\n        }\n        const weatherData = await weatherResponse.json();\n        // Extract lat/lon for forecast\n        const lat = weatherData.coord.lat;\n        const lon = weatherData.coord.lon;\n        // Simplified estimated soil temperature (e.g., 2 degrees less than air temp)\n        const estimatedSoilTemp = Math.round(weatherData.main.temp - 2);\n        // Get suitable crops using NEW logic (pass city and temp)\n        const suitableCrops = getSuitableCrops(city, weatherData.main.temp);\n        // --- NEW: Calculate Irrigation Status and Crop Advice (Using updated getIrrigationStatus) ---\n        const irrigation = getIrrigationStatus(weatherData.main.temp, weatherData.main.humidity, weatherData.wind.speed, weatherData.rain?.[\"1h\"] || 0);\n        const advice = getCropAdvice(weatherData.main.temp, weatherData.main.humidity, weatherData.wind.speed, suitableCrops);\n        // --- END NEW ---\n        // Get forecast using lat/lon\n        const forecastData = await getForecast(lat.toString(), lon.toString(), OPENWEATHER_API_KEY);\n        // Get alerts (now without soil moisture)\n        const weatherAlerts = generateWeatherAlerts(weatherData.main.temp, weatherData.main.humidity, weatherData.wind.speed);\n        // Process weather data and add agricultural recommendations\n        const processedData = {\n            location: `${weatherData.name}, ${weatherData.sys.country}`,\n            dt: weatherData.dt,\n            weather: {\n                temperature: Math.round(weatherData.main.temp),\n                feelsLike: Math.round(weatherData.main.feels_like),\n                humidity: weatherData.main.humidity,\n                windSpeed: weatherData.wind.speed,\n                description: weatherData.weather[0].description,\n                icon: weatherData.weather[0].icon,\n                precipitation: weatherData.rain?.[\"1h\"] || 0,\n                estimatedSoilTemp: estimatedSoilTemp\n            },\n            suitableCrops: suitableCrops,\n            irrigationStatus: irrigation,\n            cropAdvice: advice,\n            forecast: forecastData,\n            alerts: weatherAlerts\n        };\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(processedData);\n    } catch (error) {\n        console.error(\"Weather API Route Error:\", error);\n        // Return specific error message if available (like 'City not found')\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: error.message || \"Failed to process weather request\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function getForecast(lat, lon, apiKey) {\n    try {\n        const response = await fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric`);\n        if (!response.ok) {\n            const errorData = await response.json();\n            console.error(\"OpenWeatherMap Forecast API Error:\", errorData);\n            throw new Error(\"Failed to fetch forecast data\");\n        }\n        const data = await response.json();\n        return data.list.slice(0, 8).map((item)=>({\n                time: new Date(item.dt * 1000).toLocaleTimeString(\"en-US\", {\n                    hour: \"numeric\",\n                    // minute: '2-digit', // Optional: add minutes\n                    hour12: true\n                }),\n                temperature: Math.round(item.main.temp),\n                description: item.weather[0].description,\n                icon: item.weather[0].icon,\n                precipitation: item.rain?.[\"3h\"] || 0\n            }));\n    } catch (error) {\n        console.error(\"Forecast Fetch Error:\", error);\n        return []; // Return empty array on error\n    }\n}\n// Modify alerts function to remove soilMoisture dependency\nfunction generateWeatherAlerts(temperature, humidity, windSpeed) {\n    const alerts = [];\n    // Temperature alerts (keep as is)\n    if (temperature > 35) {\n        alerts.push({\n            type: \"high_temperature\",\n            severity: \"high\",\n            message: \"Extreme heat conditions. Increase irrigation and provide shade for sensitive crops.\",\n            recommendations: [\n                \"Water plants early morning or evening\",\n                \"Apply mulch to retain moisture\",\n                \"Monitor for heat stress symptoms\"\n            ]\n        });\n    } else if (temperature > 30) {\n        alerts.push({\n            type: \"high_temperature\",\n            severity: \"medium\",\n            message: \"High temperature conditions. Consider adjusting irrigation schedule.\",\n            recommendations: [\n                \"Maintain regular watering schedule\",\n                \"Check soil before watering\",\n                \"Protect sensitive crops\"\n            ]\n        });\n    }\n    // Low temperature alerts (added example)\n    if (temperature < 5) {\n        alerts.push({\n            type: \"low_temperature\",\n            severity: \"high\",\n            message: \"Potential frost conditions. Protect sensitive crops.\",\n            recommendations: [\n                \"Cover vulnerable plants\",\n                \"Ensure soil is moist (helps retain heat)\",\n                \"Monitor forecasts closely\"\n            ]\n        });\n    }\n    // Humidity alerts (keep as is)\n    if (humidity > 85) {\n        alerts.push({\n            type: \"high_humidity\",\n            severity: \"high\",\n            message: \"High humidity levels increase risk of fungal diseases.\",\n            recommendations: [\n                \"Monitor for disease symptoms\",\n                \"Ensure proper ventilation/spacing\",\n                \"Consider preventative fungicide application if necessary\"\n            ]\n        });\n    }\n    // Wind alerts (keep as is)\n    if (windSpeed > 15) {\n        alerts.push({\n            type: \"high_wind\",\n            severity: \"medium\",\n            message: \"Strong winds may damage crops and affect spraying operations.\",\n            recommendations: [\n                \"Delay pesticide/fertilizer application if possible\",\n                \"Secure row covers or tunnels\",\n                \"Check for physical damage to plants/structures\"\n            ]\n        });\n    }\n    // Remove soil moisture alerts\n    return alerts;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RztRQUNsQlEsT0FBT3RFLElBQUksQ0FBQztZQUNYa0YsTUFBTTtZQUNOQyxVQUFVO1lBQ1YvQyxTQUNFO1lBQ0ZnRCxpQkFBaUI7Z0JBQ2Y7Z0JBQ0E7Z0JBQ0E7YUFDRDtRQUNIO0lBQ0Y7SUFHQSwrQkFBK0I7SUFDL0IsSUFBSW5HLFdBQVcsSUFBSTtRQUNqQnFGLE9BQU90RSxJQUFJLENBQUM7WUFDVmtGLE1BQU07WUFDTkMsVUFBVTtZQUNWL0MsU0FBUztZQUNUZ0QsaUJBQWlCO2dCQUNmO2dCQUNBO2dCQUNBO2FBQ0Q7UUFDSDtJQUNGO0lBRUEsMkJBQTJCO0lBQzNCLElBQUlsRyxZQUFZLElBQUk7UUFDbEJvRixPQUFPdEUsSUFBSSxDQUFDO1lBQ1ZrRixNQUFNO1lBQ05DLFVBQVU7WUFDVi9DLFNBQVM7WUFDVGdELGlCQUFpQjtnQkFDZjtnQkFDQTtnQkFDQTthQUNEO1FBQ0g7SUFDRjtJQUVBLDhCQUE4QjtJQUU5QixPQUFPZDtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va3Jpc2hpbWl0cmEvLi9hcHAvYXBpL3dlYXRoZXIvcm91dGUudHM/ZDQ3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuXHJcbi8vIC0tLSBORVcgSGVscGVyIEZ1bmN0aW9ucyAtLS1cclxuXHJcbi8vIERldGVybWluZSBJcnJpZ2F0aW9uIFN0YXR1cyAoUmV2aXNlZCBMb2dpYylcclxuZnVuY3Rpb24gZ2V0SXJyaWdhdGlvblN0YXR1cyh0ZW1wOiBudW1iZXIsIGh1bWlkaXR5OiBudW1iZXIsIHdpbmRTcGVlZDogbnVtYmVyLCBwcmVjaXBpdGF0aW9uOiBudW1iZXIpOiB7IHN0YXR1czogc3RyaW5nOyBsZXZlbDogJ2luZm8nIHwgJ3dhcm5pbmcnIHwgJ3N1Y2Nlc3MnIH0ge1xyXG4gIC8vIFByaW9yaXR5IDE6IFJlY2VudCBSYWluXHJcbiAgaWYgKHByZWNpcGl0YXRpb24gPiAxKSB7IC8vIFNpZ25pZmljYW50IHJhaW5cclxuICAgIHJldHVybiB7IHN0YXR1czogXCJSZWNlbnQgc2lnbmlmaWNhbnQgcmFpbi4gSXJyaWdhdGlvbiBsaWtlbHkgdW5uZWNlc3NhcnkuXCIsIGxldmVsOiAnc3VjY2VzcycgfTtcclxuICB9XHJcbiAgaWYgKHByZWNpcGl0YXRpb24gPiAwLjEpIHsgLy8gTGlnaHQgcmFpblxyXG4gICAgcmV0dXJuIHsgc3RhdHVzOiBcIkxpZ2h0IHJlY2VudCByYWluIGRldGVjdGVkLiBDaGVjayBzb2lsIG1vaXN0dXJlIGJlZm9yZSBpcnJpZ2F0aW5nLlwiLCBsZXZlbDogJ3N1Y2Nlc3MnIH07XHJcbiAgfVxyXG5cclxuICAvLyBQcmlvcml0eSAyOiBIaWdoIEV2YXBvcmF0aW9uIENvbmRpdGlvbnMgKE5vIHJlY2VudCByYWluKVxyXG4gIGNvbnN0IGlzSG90ID0gdGVtcCA+IDMyO1xyXG4gIGNvbnN0IGlzRHJ5ID0gaHVtaWRpdHkgPCA0NTtcclxuICBjb25zdCBpc1dpbmR5ID0gd2luZFNwZWVkID4gNTsgLy8gV2luZCBzcGVlZCBpbiBtL3NcclxuXHJcbiAgaWYgKGlzSG90ICYmIGlzRHJ5ICYmIGlzV2luZHkpIHtcclxuICAgIHJldHVybiB7IHN0YXR1czogXCJIb3QsIGRyeSwgYW5kIHdpbmR5LiBIaWdoIGV2YXBvcmF0aW9uIGxpa2VseS4gTW9uaXRvciBzb2lsIHVyZ2VudGx5LlwiLCBsZXZlbDogJ3dhcm5pbmcnIH07XHJcbiAgfVxyXG4gIGlmIChpc0hvdCAmJiBpc0RyeSkge1xyXG4gICAgIHJldHVybiB7IHN0YXR1czogXCJIb3QgYW5kIGRyeSBjb25kaXRpb25zLiBJbmNyZWFzZWQgZXZhcG9yYXRpb24gbGlrZWx5LiBDaGVjayBzb2lsIG1vaXN0dXJlLlwiLCBsZXZlbDogJ3dhcm5pbmcnIH07XHJcbiAgfVxyXG4gICBpZiAoaXNIb3QpIHtcclxuICAgICByZXR1cm4geyBzdGF0dXM6IFwiSGlnaCB0ZW1wZXJhdHVyZXMgZGV0ZWN0ZWQuIE1vbml0b3Igc29pbCBtb2lzdHVyZSBjbG9zZWx5LlwiLCBsZXZlbDogJ3dhcm5pbmcnIH07XHJcbiAgfVxyXG4gICBpZiAoaXNEcnkgJiYgaXNXaW5keSkge1xyXG4gICAgIHJldHVybiB7IHN0YXR1czogXCJEcnkgYW5kIHdpbmR5LiBJbmNyZWFzZWQgZXZhcG9yYXRpb24gbGlrZWx5LiBDaGVjayBzb2lsIG1vaXN0dXJlLlwiLCBsZXZlbDogJ3dhcm5pbmcnIH07XHJcbiAgfVxyXG5cclxuICAvLyBQcmlvcml0eSAzOiBMb3cgRXZhcG9yYXRpb24gLyBPdGhlciBmYWN0b3JzXHJcbiAgaWYgKHRlbXAgPCAxMCkgeyBcclxuICAgIHJldHVybiB7IHN0YXR1czogXCJDb29sIGNvbmRpdGlvbnMgcmVkdWNlIGltbWVkaWF0ZSBuZWVkLiBDaGVjayBzb2lsIGJlZm9yZSBpcnJpZ2F0aW5nLlwiLCBsZXZlbDogJ2luZm8nIH07XHJcbiAgfVxyXG4gICBpZiAoaHVtaWRpdHkgPiA4MCkgeyBcclxuICAgIHJldHVybiB7IHN0YXR1czogXCJIaWdoIGh1bWlkaXR5IHJlZHVjZXMgZXZhcG9yYXRpb24uIENoZWNrIHNvaWwgbW9pc3R1cmUgaWYgbmVlZGVkLlwiLCBsZXZlbDogJ2luZm8nIH07XHJcbiAgfVxyXG5cclxuICAvLyBEZWZhdWx0OiBNb2RlcmF0ZSBjb25kaXRpb25zXHJcbiAgcmV0dXJuIHsgc3RhdHVzOiBcIkNvbmRpdGlvbnMgbW9kZXJhdGUuIE1vbml0b3Igc29pbCBtb2lzdHVyZSBhbmQgaXJyaWdhdGUgYXMgbmVlZGVkLlwiLCBsZXZlbDogJ2luZm8nIH07XHJcbn1cclxuXHJcbi8vIEdlbmVyYXRlIENyb3AgR3Jvd3RoIEFkdmljZVxyXG5mdW5jdGlvbiBnZXRDcm9wQWR2aWNlKHRlbXA6IG51bWJlciwgaHVtaWRpdHk6IG51bWJlciwgd2luZFNwZWVkOiBudW1iZXIsIHN1aXRhYmxlQ3JvcHM6IHN0cmluZ1tdKTogc3RyaW5nW10ge1xyXG4gICAgY29uc3QgYWR2aWNlOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgaWYgKHN1aXRhYmxlQ3JvcHMubGVuZ3RoID09PSAwIHx8IHN1aXRhYmxlQ3JvcHNbMF0uaW5jbHVkZXMoXCJOb3Qgc3VpdGFibGVcIikpIHtcclxuICAgICAgICByZXR1cm4gW1wiQ3VycmVudCBjb25kaXRpb25zIGFyZSBub3QgaWRlYWwgZm9yIHRoZSBwcmltYXJ5IGxpc3RlZCBjcm9wcy5cIl07XHJcbiAgICB9XHJcbiAgICBjb25zdCBjcm9wc1N0ciA9IHN1aXRhYmxlQ3JvcHMuam9pbignLCAnKTtcclxuXHJcbiAgICBpZiAodGVtcCA+IDM1KSB7XHJcbiAgICAgICAgYWR2aWNlLnB1c2goYEV4dHJlbWUgSGVhdDogSGlnaCBzdHJlc3MgbGlrZWx5IGZvciAke2Nyb3BzU3RyfS4gRW5zdXJlIGFkZXF1YXRlIHdhdGVyLCBjb25zaWRlciBzaGFkZS5gKTtcclxuICAgIH1cclxuICAgICBlbHNlIGlmICh0ZW1wID4gMzApIHtcclxuICAgICAgICBhZHZpY2UucHVzaChgSGlnaCBUZW1wZXJhdHVyZTogSW5jcmVhc2Ugd2F0ZXJpbmcgZnJlcXVlbmN5IGZvciAke2Nyb3BzU3RyfSBpZiBzb2lsIGlzIGRyeS5gKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaHVtaWRpdHkgPiA4NSkge1xyXG4gICAgICAgIGFkdmljZS5wdXNoKGBIaWdoIEh1bWlkaXR5OiBJbmNyZWFzZXMgZnVuZ2FsIHJpc2sgZm9yICR7Y3JvcHNTdHJ9LiBFbnN1cmUgZ29vZCBhaXIgY2lyY3VsYXRpb24uYCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICh3aW5kU3BlZWQgPiAxMikgeyAvLyBMb3dlcmVkIHRocmVzaG9sZCBzbGlnaHRseSBmb3IgYWR2aWNlXHJcbiAgICAgICAgIGFkdmljZS5wdXNoKGBTdHJvbmcgV2luZHM6IFBvdGVudGlhbCBmb3IgcGh5c2ljYWwgZGFtYWdlIG9yIGFmZmVjdGluZyBzcHJheWluZyBvcGVyYXRpb25zIGZvciAke2Nyb3BzU3RyfS5gKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGVtcCA8IDEwKSB7XHJcbiAgICAgICAgYWR2aWNlLnB1c2goYExvdyBUZW1wZXJhdHVyZXM6IEdyb3d0aCBtYXkgc2xvdyBmb3IgJHtjcm9wc1N0cn0uIFByb3RlY3Qgc2Vuc2l0aXZlIHBsYW50cyBpZiBmcm9zdCBpcyBmb3JlY2FzdC5gKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYWR2aWNlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGFkdmljZS5wdXNoKGBDdXJyZW50IGNvbmRpdGlvbnMgc2VlbSBnZW5lcmFsbHkgZmF2b3JhYmxlIGZvciAke2Nyb3BzU3RyfS4gTW9uaXRvciBmb3JlY2FzdHMuYCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBhZHZpY2Uuc2xpY2UoMCwgMyk7IC8vIExpbWl0IHRvIDMgbWFpbiBhZHZpY2UgcG9pbnRzXHJcbn1cclxuLy8gLS0tIEVuZCBORVcgSGVscGVyIEZ1bmN0aW9ucyAtLS1cclxuXHJcbi8vIC0tLSBDaXR5IHRvIFN0YXRlL0Nyb3AgTWFwcGluZyAoSWxsdXN0cmF0aXZlKSAtLS1cclxuY29uc3QgY2l0eVN0YXRlQ3JvcE1hcDogeyBba2V5OiBzdHJpbmddOiB7IHN0YXRlOiBzdHJpbmc7IGNyb3BzOiBzdHJpbmdbXSB9IH0gPSB7XHJcbiAgaHlkZXJhYmFkOiB7IHN0YXRlOiBcIlRlbGFuZ2FuYVwiLCBjcm9wczogW1wiUmljZSAoUGFkZHkpXCIsIFwiQ290dG9uXCIsIFwiTWFpemVcIiwgXCJTb3JnaHVtXCIsIFwiR3JvdW5kbnV0XCJdIH0sXHJcbiAgbXVtYmFpOiB7IHN0YXRlOiBcIk1haGFyYXNodHJhXCIsIGNyb3BzOiBbXCJSaWNlIChDb2FzdGFsKVwiLCBcIlNvcmdodW1cIiwgXCJCYWpyYVwiLCBcIlN1Z2FyY2FuZVwiLCBcIkNvdHRvblwiXSB9LFxyXG4gIGNoZW5uYWk6IHsgc3RhdGU6IFwiVGFtaWwgTmFkdVwiLCBjcm9wczogW1wiUmljZVwiLCBcIkdyb3VuZG51dFwiLCBcIlN1Z2FyY2FuZVwiLCBcIkNvdHRvblwiLCBcIkNvY29udXRcIl0gfSxcclxuICBrb2xrYXRhOiB7IHN0YXRlOiBcIldlc3QgQmVuZ2FsXCIsIGNyb3BzOiBbXCJSaWNlXCIsIFwiSnV0ZVwiLCBcIlBvdGF0b2VzXCIsIFwiTXVzdGFyZFwiLCBcIlZlZ2V0YWJsZXNcIl0gfSxcclxuICBkZWxoaTogeyBzdGF0ZTogXCJEZWxoaSBOQ1JcIiwgY3JvcHM6IFtcIldoZWF0XCIsIFwiTXVzdGFyZFwiLCBcIlZlZ2V0YWJsZXNcIiwgXCJCYWpyYVwiXSB9LFxyXG4gIGx1Y2tub3c6IHsgc3RhdGU6IFwiVXR0YXIgUHJhZGVzaFwiLCBjcm9wczogW1wiV2hlYXRcIiwgXCJTdWdhcmNhbmVcIiwgXCJSaWNlXCIsIFwiUG90YXRvZXNcIiwgXCJNdXN0YXJkXCJdIH0sXHJcbiAgamFpcHVyOiB7IHN0YXRlOiBcIlJhamFzdGhhblwiLCBjcm9wczogW1wiQmFqcmFcIiwgXCJNdXN0YXJkXCIsIFwiV2hlYXRcIiwgXCJQdWxzZXNcIiwgXCJHcm91bmRudXRcIl0gfSxcclxuICBzaGltbGE6IHsgc3RhdGU6IFwiSGltYWNoYWwgUHJhZGVzaFwiLCBjcm9wczogW1wiQXBwbGVzXCIsIFwiUG90YXRvZXNcIiwgXCJNYWl6ZVwiLCBcIldoZWF0XCIsIFwiQmFybGV5XCJdIH0sXHJcbiAgYmhvcGFsOiB7IHN0YXRlOiBcIk1hZGh5YSBQcmFkZXNoXCIsIGNyb3BzOiBbXCJTb3liZWFuXCIsIFwiV2hlYXRcIiwgXCJQdWxzZXNcIiwgXCJNYWl6ZVwiLCBcIkNvdHRvblwiXSB9LFxyXG4gIC8vIEFkZCBtb3JlIGNpdGllcyBhcyBuZWVkZWQgZm9yIGJldHRlciBpbGx1c3RyYXRpb25cclxufTtcclxuXHJcbi8vIC0tLSBVcGRhdGVkIEhlbHBlciBmdW5jdGlvbiBmb3IgU3VpdGFibGUgQ3JvcHMgLS0tXHJcbmZ1bmN0aW9uIGdldFN1aXRhYmxlQ3JvcHMoY2l0eTogc3RyaW5nLCB0ZW1wOiBudW1iZXIpOiBzdHJpbmdbXSB7XHJcbiAgY29uc3QgbG93ZXJDaXR5ID0gY2l0eS50b0xvd2VyQ2FzZSgpO1xyXG4gIFxyXG4gIC8vIDEuIENoZWNrIHRoZSBzdGF0aWMgbWFwIGZpcnN0XHJcbiAgaWYgKGNpdHlTdGF0ZUNyb3BNYXBbbG93ZXJDaXR5XSkge1xyXG4gICAgLy8gT3B0aW9uYWw6IENvdWxkIGFkZCB0ZW1wZXJhdHVyZSBjaGVjayBoZXJlIHRvbyBmb3IgbWFwcGVkIGNpdGllc1xyXG4gICAgLy8gZS5nLiwgaWYgKHRlbXAgPCA1KSByZXR1cm4gW1wiQ29uZGl0aW9ucyB0b28gY29sZCBmb3IgdHlwaWNhbCBjcm9wcyBpbiBcIiArIGNpdHlTdGF0ZUNyb3BNYXBbbG93ZXJDaXR5XS5zdGF0ZV07XHJcbiAgICByZXR1cm4gY2l0eVN0YXRlQ3JvcE1hcFtsb3dlckNpdHldLmNyb3BzO1xyXG4gIH1cclxuXHJcbiAgLy8gMi4gRmFsbGJhY2sgdG8gdGVtcGVyYXR1cmUtYmFzZWQgbG9naWMgKFNsaWdodGx5IHJlZmluZWQpXHJcbiAgaWYgKHRlbXAgPCA1KSByZXR1cm4gW1wiQ29uZGl0aW9ucyB0b28gY29sZCBmb3IgbW9zdCBjb21tb24gY3JvcHNcIl07XHJcbiAgaWYgKHRlbXAgPCAxNSkgcmV0dXJuIFtcIldoZWF0XCIsIFwiQmFybGV5XCIsIFwiTXVzdGFyZFwiLCBcIlBvdGF0b2VzXCIsIFwiQ2Fycm90c1wiXTsgLy8gQ29vbGVyIGNyb3BzXHJcbiAgaWYgKHRlbXAgPCAyNSkgcmV0dXJuIFtcIk1haXplXCIsIFwiUmljZSAoUGFkZHkpXCIsIFwiU295YmVhblwiLCBcIlRvbWF0b2VzXCIsIFwiQmVhbnNcIl07IC8vIE1vZGVyYXRlIHRlbXAgY3JvcHNcclxuICBpZiAodGVtcCA8IDM1KSByZXR1cm4gW1wiQ290dG9uXCIsIFwiU29yZ2h1bVwiLCBcIkdyb3VuZG51dFwiLCBcIk1pbGxldFwiLCBcIlN1Z2FyY2FuZVwiXTsgLy8gV2FybWVyIGNyb3BzXHJcbiAgcmV0dXJuIFtcIkhlYXQgdG9sZXJhbnQgdmFyaWV0aWVzIChlLmcuLCBjZXJ0YWluIE1pbGxldHMsIERhdGVzKVwiXTsgLy8gVmVyeSBob3RcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcclxuICAgIGNvbnN0IGNpdHkgPSBzZWFyY2hQYXJhbXMuZ2V0KFwiY2l0eVwiKTsgLy8gR2V0IGNpdHkgbmFtZVxyXG5cclxuICAgIGlmICghY2l0eSkgeyAvLyBDaGVjayBpZiBjaXR5IGlzIHByb3ZpZGVkXHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiBcIkNpdHkgbmFtZSBpcyByZXF1aXJlZFwiIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgT1BFTldFQVRIRVJfQVBJX0tFWSA9IHByb2Nlc3MuZW52Lk9QRU5XRUFUSEVSX0FQSV9LRVk7XHJcblxyXG4gICAgaWYgKCFPUEVOV0VBVEhFUl9BUElfS0VZKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiBcIldlYXRoZXIgQVBJIGtleSBub3QgY29uZmlndXJlZFwiIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRmV0Y2ggY3VycmVudCB3ZWF0aGVyIGJ5IGNpdHkgbmFtZVxyXG4gICAgY29uc3Qgd2VhdGhlclJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgIGBodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvd2VhdGhlcj9xPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGNpdHkpfSZhcHBpZD0ke09QRU5XRUFUSEVSX0FQSV9LRVl9JnVuaXRzPW1ldHJpY2BcclxuICAgICk7XHJcblxyXG4gICAgaWYgKCF3ZWF0aGVyUmVzcG9uc2Uub2spIHtcclxuICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHdlYXRoZXJSZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICBjb25zb2xlLmVycm9yKFwiT3BlbldlYXRoZXJNYXAgQVBJIEVycm9yOlwiLCBlcnJvckRhdGEpO1xyXG4gICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3JEYXRhLm1lc3NhZ2UgPT09ICdjaXR5IG5vdCBmb3VuZCcgXHJcbiAgICAgICAgID8gYENpdHkgbm90IGZvdW5kOiAke2NpdHl9YCBcclxuICAgICAgICAgOiBcIkZhaWxlZCB0byBmZXRjaCB3ZWF0aGVyIGRhdGFcIjtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgd2VhdGhlckRhdGEgPSBhd2FpdCB3ZWF0aGVyUmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgIC8vIEV4dHJhY3QgbGF0L2xvbiBmb3IgZm9yZWNhc3RcclxuICAgIGNvbnN0IGxhdCA9IHdlYXRoZXJEYXRhLmNvb3JkLmxhdDtcclxuICAgIGNvbnN0IGxvbiA9IHdlYXRoZXJEYXRhLmNvb3JkLmxvbjtcclxuXHJcbiAgICAvLyBTaW1wbGlmaWVkIGVzdGltYXRlZCBzb2lsIHRlbXBlcmF0dXJlIChlLmcuLCAyIGRlZ3JlZXMgbGVzcyB0aGFuIGFpciB0ZW1wKVxyXG4gICAgY29uc3QgZXN0aW1hdGVkU29pbFRlbXAgPSBNYXRoLnJvdW5kKHdlYXRoZXJEYXRhLm1haW4udGVtcCAtIDIpO1xyXG4gICAgXHJcbiAgICAvLyBHZXQgc3VpdGFibGUgY3JvcHMgdXNpbmcgTkVXIGxvZ2ljIChwYXNzIGNpdHkgYW5kIHRlbXApXHJcbiAgICBjb25zdCBzdWl0YWJsZUNyb3BzID0gZ2V0U3VpdGFibGVDcm9wcyhjaXR5LCB3ZWF0aGVyRGF0YS5tYWluLnRlbXApO1xyXG4gICAgXHJcbiAgICAvLyAtLS0gTkVXOiBDYWxjdWxhdGUgSXJyaWdhdGlvbiBTdGF0dXMgYW5kIENyb3AgQWR2aWNlIChVc2luZyB1cGRhdGVkIGdldElycmlnYXRpb25TdGF0dXMpIC0tLVxyXG4gICAgY29uc3QgaXJyaWdhdGlvbiA9IGdldElycmlnYXRpb25TdGF0dXMoXHJcbiAgICAgICAgd2VhdGhlckRhdGEubWFpbi50ZW1wLCBcclxuICAgICAgICB3ZWF0aGVyRGF0YS5tYWluLmh1bWlkaXR5LFxyXG4gICAgICAgIHdlYXRoZXJEYXRhLndpbmQuc3BlZWQsXHJcbiAgICAgICAgd2VhdGhlckRhdGEucmFpbj8uW1wiMWhcIl0gfHwgMFxyXG4gICAgKTtcclxuICAgIGNvbnN0IGFkdmljZSA9IGdldENyb3BBZHZpY2UoXHJcbiAgICAgICAgd2VhdGhlckRhdGEubWFpbi50ZW1wLCBcclxuICAgICAgICB3ZWF0aGVyRGF0YS5tYWluLmh1bWlkaXR5LCBcclxuICAgICAgICB3ZWF0aGVyRGF0YS53aW5kLnNwZWVkLCBcclxuICAgICAgICBzdWl0YWJsZUNyb3BzXHJcbiAgICApO1xyXG4gICAgLy8gLS0tIEVORCBORVcgLS0tXHJcblxyXG4gICAgLy8gR2V0IGZvcmVjYXN0IHVzaW5nIGxhdC9sb25cclxuICAgIGNvbnN0IGZvcmVjYXN0RGF0YSA9IGF3YWl0IGdldEZvcmVjYXN0KGxhdC50b1N0cmluZygpLCBsb24udG9TdHJpbmcoKSwgT1BFTldFQVRIRVJfQVBJX0tFWSk7XHJcbiAgICBcclxuICAgIC8vIEdldCBhbGVydHMgKG5vdyB3aXRob3V0IHNvaWwgbW9pc3R1cmUpXHJcbiAgICBjb25zdCB3ZWF0aGVyQWxlcnRzID0gZ2VuZXJhdGVXZWF0aGVyQWxlcnRzKFxyXG4gICAgICB3ZWF0aGVyRGF0YS5tYWluLnRlbXAsXHJcbiAgICAgIHdlYXRoZXJEYXRhLm1haW4uaHVtaWRpdHksXHJcbiAgICAgIHdlYXRoZXJEYXRhLndpbmQuc3BlZWRcclxuICAgICk7XHJcblxyXG4gICAgLy8gUHJvY2VzcyB3ZWF0aGVyIGRhdGEgYW5kIGFkZCBhZ3JpY3VsdHVyYWwgcmVjb21tZW5kYXRpb25zXHJcbiAgICBjb25zdCBwcm9jZXNzZWREYXRhID0ge1xyXG4gICAgICBsb2NhdGlvbjogYCR7d2VhdGhlckRhdGEubmFtZX0sICR7d2VhdGhlckRhdGEuc3lzLmNvdW50cnl9YCwgLy8gQWRkIGNvdW50cnlcclxuICAgICAgZHQ6IHdlYXRoZXJEYXRhLmR0LCAvLyBJbmNsdWRlIHRpbWVzdGFtcCBmb3IgZGF0ZSBmb3JtYXR0aW5nXHJcbiAgICAgIHdlYXRoZXI6IHtcclxuICAgICAgICB0ZW1wZXJhdHVyZTogTWF0aC5yb3VuZCh3ZWF0aGVyRGF0YS5tYWluLnRlbXApLCAvLyBSb3VuZCB0ZW1wZXJhdHVyZVxyXG4gICAgICAgIGZlZWxzTGlrZTogTWF0aC5yb3VuZCh3ZWF0aGVyRGF0YS5tYWluLmZlZWxzX2xpa2UpLCAvLyBBZGQgZmVlbHMgbGlrZSB0ZW1wXHJcbiAgICAgICAgaHVtaWRpdHk6IHdlYXRoZXJEYXRhLm1haW4uaHVtaWRpdHksXHJcbiAgICAgICAgd2luZFNwZWVkOiB3ZWF0aGVyRGF0YS53aW5kLnNwZWVkLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiB3ZWF0aGVyRGF0YS53ZWF0aGVyWzBdLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgIGljb246IHdlYXRoZXJEYXRhLndlYXRoZXJbMF0uaWNvbixcclxuICAgICAgICBwcmVjaXBpdGF0aW9uOiB3ZWF0aGVyRGF0YS5yYWluPy5bXCIxaFwiXSB8fCAwLFxyXG4gICAgICAgIGVzdGltYXRlZFNvaWxUZW1wOiBlc3RpbWF0ZWRTb2lsVGVtcCwgLy8gQWRkIGVzdGltYXRlZCBzb2lsIHRlbXBcclxuICAgICAgfSxcclxuICAgICAgc3VpdGFibGVDcm9wczogc3VpdGFibGVDcm9wcywgLy8gQWRkIHN1aXRhYmxlIGNyb3BzXHJcbiAgICAgIGlycmlnYXRpb25TdGF0dXM6IGlycmlnYXRpb24sIC8vIFVzZSB1cGRhdGVkIGlycmlnYXRpb24gc3RhdHVzXHJcbiAgICAgIGNyb3BBZHZpY2U6IGFkdmljZSwgLy8gQWRkIGNyb3AgYWR2aWNlXHJcbiAgICAgIGZvcmVjYXN0OiBmb3JlY2FzdERhdGEsXHJcbiAgICAgIGFsZXJ0czogd2VhdGhlckFsZXJ0cywgLy8gS2VlcCBhbGVydHMgZm9yIHBvdGVudGlhbCByaXNrcyBzZWN0aW9uXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihwcm9jZXNzZWREYXRhKTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7IC8vIFR5cGUgYXNzZXJ0aW9uIGZvciBlcnJvclxyXG4gICAgY29uc29sZS5lcnJvcihcIldlYXRoZXIgQVBJIFJvdXRlIEVycm9yOlwiLCBlcnJvcik7XHJcbiAgICAvLyBSZXR1cm4gc3BlY2lmaWMgZXJyb3IgbWVzc2FnZSBpZiBhdmFpbGFibGUgKGxpa2UgJ0NpdHkgbm90IGZvdW5kJylcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCBcIkZhaWxlZCB0byBwcm9jZXNzIHdlYXRoZXIgcmVxdWVzdFwiIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldEZvcmVjYXN0KGxhdDogc3RyaW5nLCBsb246IHN0cmluZywgYXBpS2V5OiBzdHJpbmcpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuICAgICAgYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS9mb3JlY2FzdD9sYXQ9JHtsYXR9Jmxvbj0ke2xvbn0mYXBwaWQ9JHthcGlLZXl9JnVuaXRzPW1ldHJpY2BcclxuICAgICk7XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJPcGVuV2VhdGhlck1hcCBGb3JlY2FzdCBBUEkgRXJyb3I6XCIsIGVycm9yRGF0YSk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCBmb3JlY2FzdCBkYXRhXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblxyXG4gICAgLy8gUHJvY2VzcyBmb3JlY2FzdCBkYXRhIC0gc2ltcGxpZnkgZm9yIGRhaWx5IG92ZXJ2aWV3IGlmIG5lZWRlZCBsYXRlclxyXG4gICAgIC8vIEZvciBub3csIGtlZXAgMy1ob3VyIGludGVydmFscyBhcyBiZWZvcmVcclxuICAgIC8vIERlZmluZSBhIHR5cGUgZm9yIHRoZSBmb3JlY2FzdCBsaXN0IGl0ZW0gZm9yIGNsYXJpdHlcclxuICAgIHR5cGUgRm9yZWNhc3RJdGVtID0ge1xyXG4gICAgICAgIGR0OiBudW1iZXI7XHJcbiAgICAgICAgbWFpbjogeyB0ZW1wOiBudW1iZXIgfTtcclxuICAgICAgICB3ZWF0aGVyOiBbeyBkZXNjcmlwdGlvbjogc3RyaW5nOyBpY29uOiBzdHJpbmcgfV07XHJcbiAgICAgICAgcmFpbj86IHsgXCIzaFwiPzogbnVtYmVyIH07XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGRhdGEubGlzdC5zbGljZSgwLCA4KS5tYXAoKGl0ZW06IEZvcmVjYXN0SXRlbSkgPT4gKHtcclxuICAgICAgdGltZTogbmV3IERhdGUoaXRlbS5kdCAqIDEwMDApLnRvTG9jYWxlVGltZVN0cmluZyhcImVuLVVTXCIsIHtcclxuICAgICAgICBob3VyOiBcIm51bWVyaWNcIixcclxuICAgICAgICAvLyBtaW51dGU6ICcyLWRpZ2l0JywgLy8gT3B0aW9uYWw6IGFkZCBtaW51dGVzXHJcbiAgICAgICAgaG91cjEyOiB0cnVlLFxyXG4gICAgICB9KSxcclxuICAgICAgdGVtcGVyYXR1cmU6IE1hdGgucm91bmQoaXRlbS5tYWluLnRlbXApLCAvLyBSb3VuZCB0ZW1wXHJcbiAgICAgIGRlc2NyaXB0aW9uOiBpdGVtLndlYXRoZXJbMF0uZGVzY3JpcHRpb24sXHJcbiAgICAgIGljb246IGl0ZW0ud2VhdGhlclswXS5pY29uLFxyXG4gICAgICBwcmVjaXBpdGF0aW9uOiBpdGVtLnJhaW4/LltcIjNoXCJdIHx8IDAsXHJcbiAgICB9KSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJGb3JlY2FzdCBGZXRjaCBFcnJvcjpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIFtdOyAvLyBSZXR1cm4gZW1wdHkgYXJyYXkgb24gZXJyb3JcclxuICB9XHJcbn1cclxuXHJcbi8vIE1vZGlmeSBhbGVydHMgZnVuY3Rpb24gdG8gcmVtb3ZlIHNvaWxNb2lzdHVyZSBkZXBlbmRlbmN5XHJcbmZ1bmN0aW9uIGdlbmVyYXRlV2VhdGhlckFsZXJ0cyhcclxuICB0ZW1wZXJhdHVyZTogbnVtYmVyLFxyXG4gIGh1bWlkaXR5OiBudW1iZXIsXHJcbiAgd2luZFNwZWVkOiBudW1iZXJcclxuICAvLyBzb2lsTW9pc3R1cmUgaXMgcmVtb3ZlZFxyXG4pIHtcclxuICBjb25zdCBhbGVydHMgPSBbXTtcclxuXHJcbiAgLy8gVGVtcGVyYXR1cmUgYWxlcnRzIChrZWVwIGFzIGlzKVxyXG4gIGlmICh0ZW1wZXJhdHVyZSA+IDM1KSB7XHJcbiAgICBhbGVydHMucHVzaCh7XHJcbiAgICAgIHR5cGU6IFwiaGlnaF90ZW1wZXJhdHVyZVwiLFxyXG4gICAgICBzZXZlcml0eTogXCJoaWdoXCIsXHJcbiAgICAgIG1lc3NhZ2U6XHJcbiAgICAgICAgXCJFeHRyZW1lIGhlYXQgY29uZGl0aW9ucy4gSW5jcmVhc2UgaXJyaWdhdGlvbiBhbmQgcHJvdmlkZSBzaGFkZSBmb3Igc2Vuc2l0aXZlIGNyb3BzLlwiLFxyXG4gICAgICByZWNvbW1lbmRhdGlvbnM6IFtcclxuICAgICAgICBcIldhdGVyIHBsYW50cyBlYXJseSBtb3JuaW5nIG9yIGV2ZW5pbmdcIixcclxuICAgICAgICBcIkFwcGx5IG11bGNoIHRvIHJldGFpbiBtb2lzdHVyZVwiLFxyXG4gICAgICAgIFwiTW9uaXRvciBmb3IgaGVhdCBzdHJlc3Mgc3ltcHRvbXNcIixcclxuICAgICAgXSxcclxuICAgIH0pO1xyXG4gIH0gZWxzZSBpZiAodGVtcGVyYXR1cmUgPiAzMCkge1xyXG4gICAgYWxlcnRzLnB1c2goe1xyXG4gICAgICB0eXBlOiBcImhpZ2hfdGVtcGVyYXR1cmVcIixcclxuICAgICAgc2V2ZXJpdHk6IFwibWVkaXVtXCIsXHJcbiAgICAgIG1lc3NhZ2U6XHJcbiAgICAgICAgXCJIaWdoIHRlbXBlcmF0dXJlIGNvbmRpdGlvbnMuIENvbnNpZGVyIGFkanVzdGluZyBpcnJpZ2F0aW9uIHNjaGVkdWxlLlwiLFxyXG4gICAgICByZWNvbW1lbmRhdGlvbnM6IFtcclxuICAgICAgICBcIk1haW50YWluIHJlZ3VsYXIgd2F0ZXJpbmcgc2NoZWR1bGVcIixcclxuICAgICAgICBcIkNoZWNrIHNvaWwgYmVmb3JlIHdhdGVyaW5nXCIsIC8vIEFkanVzdGVkIHJlY29tbWVuZGF0aW9uXHJcbiAgICAgICAgXCJQcm90ZWN0IHNlbnNpdGl2ZSBjcm9wc1wiLFxyXG4gICAgICBdLFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG4gICAvLyBMb3cgdGVtcGVyYXR1cmUgYWxlcnRzIChhZGRlZCBleGFtcGxlKVxyXG4gIGlmICh0ZW1wZXJhdHVyZSA8IDUpIHtcclxuICAgICBhbGVydHMucHVzaCh7XHJcbiAgICAgIHR5cGU6IFwibG93X3RlbXBlcmF0dXJlXCIsXHJcbiAgICAgIHNldmVyaXR5OiBcImhpZ2hcIixcclxuICAgICAgbWVzc2FnZTpcclxuICAgICAgICBcIlBvdGVudGlhbCBmcm9zdCBjb25kaXRpb25zLiBQcm90ZWN0IHNlbnNpdGl2ZSBjcm9wcy5cIixcclxuICAgICAgcmVjb21tZW5kYXRpb25zOiBbXHJcbiAgICAgICAgXCJDb3ZlciB2dWxuZXJhYmxlIHBsYW50c1wiLFxyXG4gICAgICAgIFwiRW5zdXJlIHNvaWwgaXMgbW9pc3QgKGhlbHBzIHJldGFpbiBoZWF0KVwiLFxyXG4gICAgICAgIFwiTW9uaXRvciBmb3JlY2FzdHMgY2xvc2VseVwiLFxyXG4gICAgICBdLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gSHVtaWRpdHkgYWxlcnRzIChrZWVwIGFzIGlzKVxyXG4gIGlmIChodW1pZGl0eSA+IDg1KSB7XHJcbiAgICBhbGVydHMucHVzaCh7XHJcbiAgICAgIHR5cGU6IFwiaGlnaF9odW1pZGl0eVwiLFxyXG4gICAgICBzZXZlcml0eTogXCJoaWdoXCIsXHJcbiAgICAgIG1lc3NhZ2U6IFwiSGlnaCBodW1pZGl0eSBsZXZlbHMgaW5jcmVhc2UgcmlzayBvZiBmdW5nYWwgZGlzZWFzZXMuXCIsXHJcbiAgICAgIHJlY29tbWVuZGF0aW9uczogW1xyXG4gICAgICAgIFwiTW9uaXRvciBmb3IgZGlzZWFzZSBzeW1wdG9tc1wiLFxyXG4gICAgICAgIFwiRW5zdXJlIHByb3BlciB2ZW50aWxhdGlvbi9zcGFjaW5nXCIsIC8vIEFkanVzdGVkIHJlY29tbWVuZGF0aW9uXHJcbiAgICAgICAgXCJDb25zaWRlciBwcmV2ZW50YXRpdmUgZnVuZ2ljaWRlIGFwcGxpY2F0aW9uIGlmIG5lY2Vzc2FyeVwiLFxyXG4gICAgICBdLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBXaW5kIGFsZXJ0cyAoa2VlcCBhcyBpcylcclxuICBpZiAod2luZFNwZWVkID4gMTUpIHsgLy8gU2xpZ2h0bHkgbG93ZXJlZCB0aHJlc2hvbGQgZm9yIGFsZXJ0XHJcbiAgICBhbGVydHMucHVzaCh7XHJcbiAgICAgIHR5cGU6IFwiaGlnaF93aW5kXCIsXHJcbiAgICAgIHNldmVyaXR5OiBcIm1lZGl1bVwiLCAvLyBBZGp1c3RlZCBzZXZlcml0eSBiYXNlZCBvbiB0aHJlc2hvbGRcclxuICAgICAgbWVzc2FnZTogXCJTdHJvbmcgd2luZHMgbWF5IGRhbWFnZSBjcm9wcyBhbmQgYWZmZWN0IHNwcmF5aW5nIG9wZXJhdGlvbnMuXCIsXHJcbiAgICAgIHJlY29tbWVuZGF0aW9uczogW1xyXG4gICAgICAgIFwiRGVsYXkgcGVzdGljaWRlL2ZlcnRpbGl6ZXIgYXBwbGljYXRpb24gaWYgcG9zc2libGVcIixcclxuICAgICAgICBcIlNlY3VyZSByb3cgY292ZXJzIG9yIHR1bm5lbHNcIixcclxuICAgICAgICBcIkNoZWNrIGZvciBwaHlzaWNhbCBkYW1hZ2UgdG8gcGxhbnRzL3N0cnVjdHVyZXNcIixcclxuICAgICAgXSxcclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxuICAvLyBSZW1vdmUgc29pbCBtb2lzdHVyZSBhbGVydHNcclxuXHJcbiAgcmV0dXJuIGFsZXJ0cztcclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0SXJyaWdhdGlvblN0YXR1cyIsInRlbXAiLCJodW1pZGl0eSIsIndpbmRTcGVlZCIsInByZWNpcGl0YXRpb24iLCJzdGF0dXMiLCJsZXZlbCIsImlzSG90IiwiaXNEcnkiLCJpc1dpbmR5IiwiZ2V0Q3JvcEFkdmljZSIsInN1aXRhYmxlQ3JvcHMiLCJhZHZpY2UiLCJsZW5ndGgiLCJpbmNsdWRlcyIsImNyb3BzU3RyIiwiam9pbiIsInB1c2giLCJzbGljZSIsImNpdHlTdGF0ZUNyb3BNYXAiLCJoeWRlcmFiYWQiLCJzdGF0ZSIsImNyb3BzIiwibXVtYmFpIiwiY2hlbm5haSIsImtvbGthdGEiLCJkZWxoaSIsImx1Y2tub3ciLCJqYWlwdXIiLCJzaGltbGEiLCJiaG9wYWwiLCJnZXRTdWl0YWJsZUNyb3BzIiwiY2l0eSIsImxvd2VyQ2l0eSIsInRvTG93ZXJDYXNlIiwiR0VUIiwicmVxdWVzdCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImdldCIsImpzb24iLCJlcnJvciIsIk9QRU5XRUFUSEVSX0FQSV9LRVkiLCJwcm9jZXNzIiwiZW52Iiwid2VhdGhlclJlc3BvbnNlIiwiZmV0Y2giLCJlbmNvZGVVUklDb21wb25lbnQiLCJvayIsImVycm9yRGF0YSIsImNvbnNvbGUiLCJlcnJvck1lc3NhZ2UiLCJtZXNzYWdlIiwiRXJyb3IiLCJ3ZWF0aGVyRGF0YSIsImxhdCIsImNvb3JkIiwibG9uIiwiZXN0aW1hdGVkU29pbFRlbXAiLCJNYXRoIiwicm91bmQiLCJtYWluIiwiaXJyaWdhdGlvbiIsIndpbmQiLCJzcGVlZCIsInJhaW4iLCJmb3JlY2FzdERhdGEiLCJnZXRGb3JlY2FzdCIsInRvU3RyaW5nIiwid2VhdGhlckFsZXJ0cyIsImdlbmVyYXRlV2VhdGhlckFsZXJ0cyIsInByb2Nlc3NlZERhdGEiLCJsb2NhdGlvbiIsIm5hbWUiLCJzeXMiLCJjb3VudHJ5IiwiZHQiLCJ3ZWF0aGVyIiwidGVtcGVyYXR1cmUiLCJmZWVsc0xpa2UiLCJmZWVsc19saWtlIiwiZGVzY3JpcHRpb24iLCJpY29uIiwiaXJyaWdhdGlvblN0YXR1cyIsImNyb3BBZHZpY2UiLCJmb3JlY2FzdCIsImFsZXJ0cyIsImFwaUtleSIsInJlc3BvbnNlIiwiZGF0YSIsImxpc3QiLCJtYXAiLCJpdGVtIiwidGltZSIsIkRhdGUiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwiaG91cjEyIiwidHlwZSIsInNldmVyaXR5IiwicmVjb21tZW5kYXRpb25zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/weather/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fweather%2Froute&page=%2Fapi%2Fweather%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fweather%2Froute.ts&appDir=C%3A%5CUsers%5Caparn%5COneDrive%5CDesktop%5Cphani%5Cv-1%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Caparn%5COneDrive%5CDesktop%5Cphani%5Cv-1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();